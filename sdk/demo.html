<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Amy SDK Demo - AI-Powered UI Customization</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    
    :root {
      --bg-primary: #0f0f0f;
      --bg-secondary: #1a1a1a;
      --bg-card: #222222;
      --text-primary: #ffffff;
      --text-secondary: #888888;
      --border-color: #333333;
      --accent: #ff444f;
      --green: #00c853;
      --red: #ff444f;
    }
    
    body.light-theme {
      --bg-primary: #f0f2f5;
      --bg-secondary: #ffffff;
      --bg-card: #ffffff;
      --text-primary: #1a1a1a;
      --text-secondary: #666666;
      --border-color: #e0e0e0;
    }
    
    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      background: var(--bg-primary);
      color: var(--text-primary);
      min-height: 100vh;
      transition: background 0.3s, color 0.3s;
    }
    
    /* Header */
    header {
      background: var(--bg-secondary);
      padding: 0 24px;
      height: 60px;
      border-bottom: 1px solid var(--border-color);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .logo {
      font-size: 20px;
      font-weight: 700;
      background: linear-gradient(135deg, #ff444f, #ff6b6b);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    
    nav {
      display: flex;
      gap: 8px;
    }
    
    nav a {
      padding: 8px 16px;
      text-decoration: none;
      color: var(--text-secondary);
      font-size: 14px;
      font-weight: 500;
      border-radius: 8px;
      transition: all 0.2s;
    }
    
    nav a:hover, nav a.active {
      background: var(--bg-card);
      color: var(--text-primary);
    }
    
    /* Main Container */
    main {
      padding: 20px;
      max-width: 1600px;
      margin: 0 auto;
    }
    
    /* FLEXBOX GRID - More reliable than CSS Grid */
    .dashboard {
      display: flex;
      flex-wrap: wrap;
      gap: 16px;
    }
    
    /* Component sizing - using flex */
    .panel {
      transition: all 0.3s ease;
    }
    
    .panel[data-size="small"] {
      flex: 0 0 calc(25% - 12px);
      min-width: 250px;
    }
    
    .panel[data-size="medium"] {
      flex: 0 0 calc(33.333% - 11px);
      min-width: 300px;
    }
    
    .panel[data-size="large"] {
      flex: 0 0 calc(50% - 8px);
      min-width: 400px;
    }
    
    .panel[data-size="full"] {
      flex: 0 0 100%;
    }
    
    .panel.hidden {
      display: none !important;
    }
    
    /* Cards */
    .card {
      background: var(--bg-card);
      border-radius: 12px;
      border: 1px solid var(--border-color);
      overflow: hidden;
      height: 100%;
    }
    
    .card-header {
      padding: 14px 18px;
      border-bottom: 1px solid var(--border-color);
      display: flex;
      align-items: center;
      gap: 10px;
      font-weight: 600;
      font-size: 14px;
    }
    
    .card-content {
      padding: 16px 18px;
    }
    
    /* Instructions Banner */
    .instructions {
      flex: 0 0 100%;
      background: linear-gradient(135deg, rgba(255,68,79,0.15), rgba(255,107,107,0.05));
      border: 1px solid rgba(255,68,79,0.3);
      border-radius: 12px;
      padding: 20px 24px;
    }
    
    .instructions h3 {
      font-size: 16px;
      margin-bottom: 12px;
    }
    
    .instructions .commands {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }
    
    .instructions .cmd {
      font-size: 13px;
      color: var(--text-secondary);
      padding: 8px 14px;
      background: var(--bg-card);
      border-radius: 6px;
      border: 1px solid var(--border-color);
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .instructions .cmd:hover {
      border-color: var(--accent);
      color: var(--accent);
    }
    
    /* Chart */
    .chart-area {
      height: 250px;
      background: linear-gradient(180deg, 
        rgba(0,200,83,0.1) 0%, 
        transparent 50%,
        rgba(255,68,79,0.1) 100%
      );
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 48px;
      opacity: 0.5;
    }
    
    /* Stats */
    .stats-row {
      display: flex;
      gap: 12px;
    }
    
    .stat {
      flex: 1;
      text-align: center;
      padding: 12px;
      background: var(--bg-primary);
      border-radius: 8px;
    }
    
    .stat-value {
      font-size: 24px;
      font-weight: 700;
    }
    
    .stat-value.green { color: var(--green); }
    
    .stat-label {
      font-size: 11px;
      color: var(--text-secondary);
      margin-top: 4px;
      text-transform: uppercase;
    }
    
    /* List items */
    .list-item {
      padding: 12px 0;
      border-bottom: 1px solid var(--border-color);
      display: flex;
      justify-content: space-between;
      font-size: 13px;
    }
    
    .list-item:last-child {
      border-bottom: none;
    }
    
    .list-item .label {
      color: var(--text-secondary);
    }
    
    .list-item .value {
      font-weight: 600;
      font-family: monospace;
    }
    
    /* Nav items */
    .nav-item {
      padding: 10px 14px;
      margin: 4px 0;
      border-radius: 8px;
      display: flex;
      align-items: center;
      gap: 10px;
      cursor: pointer;
      color: var(--text-secondary);
      font-size: 13px;
      transition: all 0.2s;
    }
    
    .nav-item:hover {
      background: var(--bg-primary);
      color: var(--text-primary);
    }
    
    .nav-item.active {
      background: rgba(255,68,79,0.15);
      color: var(--accent);
    }
    
    /* News */
    .news-item {
      padding: 10px 0;
      border-bottom: 1px solid var(--border-color);
    }
    
    .news-item:last-child { border-bottom: none; }
    
    .news-title {
      font-size: 13px;
      font-weight: 500;
    }
    
    .news-time {
      font-size: 11px;
      color: var(--text-secondary);
      margin-top: 2px;
    }
    
    /* Activity */
    .activity-item {
      display: flex;
      gap: 10px;
      padding: 10px 0;
      border-bottom: 1px solid var(--border-color);
    }
    
    .activity-item:last-child { border-bottom: none; }
    
    .activity-dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: var(--accent);
      margin-top: 5px;
      flex-shrink: 0;
    }
    
    .activity-text {
      font-size: 13px;
    }
    
    .activity-time {
      font-size: 11px;
      color: var(--text-secondary);
    }
    
    /* Responsive */
    @media (max-width: 1200px) {
      .panel[data-size="small"] { flex: 0 0 calc(33.333% - 11px); }
      .panel[data-size="medium"] { flex: 0 0 calc(50% - 8px); }
      .panel[data-size="large"] { flex: 0 0 100%; }
    }
    
    @media (max-width: 800px) {
      .panel[data-size="small"],
      .panel[data-size="medium"],
      .panel[data-size="large"] {
        flex: 0 0 100%;
      }
      .instructions .commands {
        flex-direction: column;
      }
    }
  </style>
</head>
<body>
  
  <header>
    <div class="logo">TradingDash</div>
    <nav>
      <a href="#" class="active">Dashboard</a>
      <a href="#">Markets</a>
      <a href="#">Portfolio</a>
    </nav>
  </header>
  
  <main>
    <div class="dashboard">
      
      <!-- Instructions -->
      <div class="instructions">
        <h3>ü§ñ Amy AI Demo ‚Äî Click the red chat bubble in the bottom-right corner</h3>
        <div class="commands">
          <span class="cmd">"Hide the sidebar"</span>
          <span class="cmd">"Make the chart full width"</span>
          <span class="cmd">"Switch to light theme"</span>
          <span class="cmd">"Show settings"</span>
          <span class="cmd">"Make stats bigger"</span>
        </div>
      </div>
      
      <!-- Sidebar -->
      <div class="panel" data-amy="sidebar" data-size="small">
        <div class="card">
          <div class="card-header">üìã Navigation</div>
          <div class="card-content">
            <div class="nav-item active">üìä Dashboard</div>
            <div class="nav-item">üìà Analytics</div>
            <div class="nav-item">üìë Reports</div>
            <div class="nav-item">‚öôÔ∏è Settings</div>
            <div class="nav-item">üë§ Profile</div>
          </div>
        </div>
      </div>
      
      <!-- Main Chart -->
      <div class="panel" data-amy="chart" data-size="large">
        <div class="card">
          <div class="card-header">
            üìà Market Overview
            <span style="margin-left: auto; color: var(--green); font-size: 12px;">‚óè Live</span>
          </div>
          <div class="card-content">
            <div class="chart-area">üìä</div>
          </div>
        </div>
      </div>
      
      <!-- Stats -->
      <div class="panel" data-amy="stats" data-size="small">
        <div class="card">
          <div class="card-header">üìä Statistics</div>
          <div class="card-content">
            <div class="stats-row">
              <div class="stat">
                <div class="stat-value">1,234</div>
                <div class="stat-label">Users</div>
              </div>
              <div class="stat">
                <div class="stat-value green">$56K</div>
                <div class="stat-label">Revenue</div>
              </div>
            </div>
            <div class="stats-row" style="margin-top: 12px;">
              <div class="stat">
                <div class="stat-value green">+89%</div>
                <div class="stat-label">Growth</div>
              </div>
              <div class="stat">
                <div class="stat-value">342</div>
                <div class="stat-label">Orders</div>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Analytics -->
      <div class="panel" data-amy="analytics" data-size="small">
        <div class="card">
          <div class="card-header">üìâ Analytics</div>
          <div class="card-content">
            <div class="list-item">
              <span class="label">Page Views</span>
              <span class="value">12,345</span>
            </div>
            <div class="list-item">
              <span class="label">Bounce Rate</span>
              <span class="value" style="color: var(--green)">32%</span>
            </div>
            <div class="list-item">
              <span class="label">Avg. Session</span>
              <span class="value">4m 32s</span>
            </div>
            <div class="list-item">
              <span class="label">Conversion</span>
              <span class="value" style="color: var(--green)">5.2%</span>
            </div>
          </div>
        </div>
      </div>
      
      <!-- News -->
      <div class="panel" data-amy="news" data-size="small">
        <div class="card">
          <div class="card-header">üì∞ Latest News</div>
          <div class="card-content">
            <div class="news-item">
              <div class="news-title">üöÄ New feature released!</div>
              <div class="news-time">2 hours ago</div>
            </div>
            <div class="news-item">
              <div class="news-title">üìä Q4 Report available</div>
              <div class="news-time">5 hours ago</div>
            </div>
            <div class="news-item">
              <div class="news-title">üë• Team update</div>
              <div class="news-time">1 day ago</div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Activity -->
      <div class="panel" data-amy="activity" data-size="small">
        <div class="card">
          <div class="card-header">üîî Recent Activity</div>
          <div class="card-content">
            <div class="activity-item">
              <div class="activity-dot"></div>
              <div>
                <div class="activity-text">John signed up</div>
                <div class="activity-time">2 min ago</div>
              </div>
            </div>
            <div class="activity-item">
              <div class="activity-dot" style="background: var(--green)"></div>
              <div>
                <div class="activity-text">Sale completed - $299</div>
                <div class="activity-time">5 min ago</div>
              </div>
            </div>
            <div class="activity-item">
              <div class="activity-dot" style="background: #ffc107"></div>
              <div>
                <div class="activity-text">New comment</div>
                <div class="activity-time">12 min ago</div>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Settings (Hidden) -->
      <div class="panel hidden" data-amy="settings" data-size="medium" data-amy-visible="false">
        <div class="card">
          <div class="card-header">‚öôÔ∏è Settings</div>
          <div class="card-content">
            <p style="color: var(--text-secondary); margin-bottom: 16px;">
              This panel was hidden. You revealed it with Amy!
            </p>
            <div class="list-item">
              <span class="label">Dark Mode</span>
              <span class="value">Enabled</span>
            </div>
            <div class="list-item">
              <span class="label">Notifications</span>
              <span class="value">On</span>
            </div>
            <div class="list-item">
              <span class="label">Language</span>
              <span class="value">English</span>
            </div>
          </div>
        </div>
      </div>
      
    </div>
  </main>
  
  <!-- Amy SDK -->
  <script src="amy-sdk.js"></script>
  <script>
    Amy.init({
      apiUrl: 'http://localhost:8000',
      theme: 'dark',
      accentColor: '#ff444f',
      position: 'bottom-right',
      greeting: "Hi! I'm Amy üëã\n\nI can customize this dashboard. Try:\n\n‚Ä¢ \"Hide the sidebar\"\n‚Ä¢ \"Make the chart full width\"\n‚Ä¢ \"Switch to light theme\"\n‚Ä¢ \"Show settings\"\n\nWhat would you like?",
      debug: true
    });
    
    // Handle UI changes from Amy
    window.addEventListener('amy:uiChange', (e) => {
      const changes = e.detail;
      console.log('Amy changes:', changes);
      
      if (changes.components) {
        Object.entries(changes.components).forEach(([name, config]) => {
          const el = document.querySelector(`[data-amy="${name}"]`);
          if (!el) return;
          
          // Visibility
          if (config.visible === false) {
            el.classList.add('hidden');
          } else if (config.visible === true) {
            el.classList.remove('hidden');
          }
          
          // Size
          if (config.size) {
            el.setAttribute('data-size', config.size);
          }
        });
      }
      
      // Theme
      if (changes.theme) {
        document.body.classList.toggle('light-theme', changes.theme === 'light');
      }
    });
  </script>
</body>
</html>
